<!DOCTYPE html> 
<html lang="en">   
<head>
    <meta charset="UTF-8">
    <title>Hệ thống trồng rau tự động </title>
    <link rel="stylesheet" href="style/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['line', 'corechart']});
      google.charts.setOnLoadCallback(drawChart);

    function drawChart() {

      var chartDiv = document.getElementById('chart_div');

      var data = new google.visualization.DataTable();
      data.addColumn('number', 'Time');
      data.addColumn('number', "Angle");
      data.addColumn('number', "Speed");

      data.addRows([
        [0,  2, 4],
        [1,  1, 8],
        [2,  4, 6],
        [3,  2, 9],
        [4,  1, 3]
      ]);



      var classicOptions = {
        title: 'Average Temperatures and Daylight in Iceland Throughout the Year',
        width: 900,
        height: 500,
        // Gives each series an axis that matches the vAxes number below.
        series: {
          0: {targetAxisIndex: 0},
          1: {targetAxisIndex: 1}
        },
        vAxes: {
          // Adds titles to each axis.
          0: {title: 'Angle (degree)'},
          1: {title: 'Speed (m/s)'}
        },
        hAxis: {
          ticks: [1, 2, 3, 4, 5]
        },
        vAxis: {
          viewWindow: {
            max: 30
          }
        }
      };
        var materialChart = new google.charts.Line(chartDiv);
        materialChart.draw(data, classicOptions);


    }
  </script>
</head>
<body>
    <input type="checkbox" id="check">
    <header>
        <label for="check">
            <i class="fas fa-bars" id="sidebar_btn"></i>
        </label>
        <div class="left_area">
            <h3>Hệ thống trồng rau tự động</h3>
        </div>
    </header>
    <div class="sidebar">
        <a href="info.html"><i class="fa fa-info-circle"></i><span>Thông tin</span></a>
        <a href="watch.html"><i class="fa fa-thermometer-full"></i><span>Giám sát</span></a>
        <a href="control.html"><i class="fa fa-tint"></i><span>Điều khiển</span></a>

    </div>
    <div class="content">
    <div id="chart_div"></div>
    </div>
<script>
            $(document).ready(function(){
                updateTable();
            })
            setInterval(updateTable,1000);
            function updateTable(){
                $.post("readstatus.php",
                function(data){
                    var nhietdo = data[0].nhietdo;
                    var doam = data[0].doam;
                    document.getElementById("nhietdo1").innerHTML = nhietdo;
                    document.getElementById("doam1").innerHTML = doam;

                    var nhietdo = data[1].nhietdo;
                    var doam = data[1].doam;
                    document.getElementById("nhietdo2").innerHTML = nhietdo;
                    document.getElementById("doam2").innerHTML = doam;

                    var nhietdo = data[2].nhietdo;
                    var doam = data[2].doam;
                    document.getElementById("nhietdo3").innerHTML = nhietdo;
                    document.getElementById("doam3").innerHTML = doam;

                    var nhietdo = data[3].nhietdo;
                    var doam = data[3].doam;
                    document.getElementById("nhietdo4").innerHTML = nhietdo;
                    document.getElementById("doam4").innerHTML = doam;

                } )
            }
        </script>
</body>
</html>